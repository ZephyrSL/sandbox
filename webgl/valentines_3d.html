<html>

    <head>
        <title>
            Valentine's Gift
        </title>
        <meta charset='utf-8'>
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css"
        media="screen" />
        <link rel="stylesheet" type="text/css" href="../stylesheets/pygment_trac.css"
        media="screen" />
        <!-- <link rel="stylesheet" type="text/css" href="../stylesheets/print.css"
        media="print" />
        -->
        <style>
            canvas { width: 100%; height: 100% }
        </style>
    </head>

    <body>
        <div class="container">
          <script src="../javascripts/three.min.js"></script>
          <script src="../javascripts/valentines.js"></script>
          <script>
            // initialize three.js
            var scene = new THREE.Scene();

            var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 10, 20);
            camera.lookAt(scene.position);
            scene.add(camera);

            var renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // create points cloud
            sample_axis(axis_samples, 0, 2 * Math.PI, 0.01);
            x_samples = axis_samples.map(xFunc);
            y_samples = axis_samples.map(yFunc);

            // build geometry for heart function
            var heart_geo = new THREE.Geometry();
            var sample_length = axis_samples.length;
            for (var i = 0; i < sample_length; i++) {
              heart_geo.vertices.push( new THREE.Vector3( x_samples[i] / 2.0, y_samples[i] / 2.0, 0 ) );
            };
            heart_geo.vertices.push( new THREE.Vector3( x_samples[0] / 2.0, y_samples[0] / 2.0, 0 ) ); // close the loop

            var deep_wine_material = new THREE.LineBasicMaterial({
                color: 0xCC0033,
                linewidth: 2
            });

            var deep_wine_heart = new THREE.Line( heart_geo, deep_wine_material );
            scene.add(deep_wine_heart);

            scene.add(new THREE.AxisHelper());

            function render() {
                requestAnimationFrame(render);
                // deep_wine_heart.rotation.x += 0.1;
                // cube.rotation.y += 0.1;
                renderer.render(scene, camera);
            }

            render();
          </script>
        </div>
    </body>
</html>
